---
import Layout from '../layouts/Layout.astro';
import WordCard from '../components/WordCard.astro';

let words = [
  {
    title: '조도 센서',
    description: '주변 빛의 양을 측정하는 센서',
    href: '/KNOU/smartphonesensor/illuminationsensor',
  },
  {
    title: '가속도 센서',
    description: '가속도를 측정하는 센서',
    href: '/KNOU/smartphonesensor/accelerometersensor',
  },
  {
    title: '자이로스코프',
    description: '가속도를 측정하는 센서',
    href: '/KNOU/smartphonesensor/gyroscopesensor',
  },
  // 추후 단어 카드 추가 가능
];

function addWord() {
  const newWordTitle = prompt('새로운 단어 제목을 입력하세요:');
  const newWordDescription = prompt('새로운 단어 설명을 입력하세요:');
  if (newWordTitle && newWordDescription) {
    const newWord = {
      title: newWordTitle,
      description: newWordDescription,
      href: `/smartphonesensor/${newWordTitle.replace(/\s+/g, '-').toLowerCase()}`, // 공백을 '-'로 대체하여 href 생성
    };
    words = [...words, newWord];
    // alert('새로운 단어가 추가되었습니다.'); // 필요하다면 알림 추가
  }
}
---

<Layout title="스마트폰 센서">
  <main>
    <section class="category-header">
      <h1>스마트폰 센서</h1>
      <p>스마트폰 센서에 대한 용어들을 학습합니다.</p>
    </section>
    <section class="content">
      <ul class="word-grid">
        {words.map((word) => (
          <WordCard
            href={word.href}
            title={word.title}
            description={word.description}
          />
        ))}
      </ul>
      <div class="add-word-box">
        <button class="add-word-button" onclick={addWord}>+ 단어 추가</button>
      </div>
    </section>
  </main>
</Layout>

<style>
  .category-header {
    text-align: center;
    margin-bottom: 20px;
  }

  .content {
    padding: 20px;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  .word-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1rem;
    list-style: none;
    padding: 0;
  }

  .add-word-box {
    display: flex;
    justify-content: center;
    padding: 20px 0;
  }

  .add-word-button {
    background: none;
    border: 2px dashed #888;
    color: #555;
    padding: 0.5rem 1rem;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
  }
</style>
